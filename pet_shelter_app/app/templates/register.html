{% extends "base.html" %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<h2>Регистрация</h2>
<form method="POST" action="{{ url_for('auth.register') }}">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.name.label }} {{ form.name(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.surname.label }} {{ form.surname(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.patronymic.label }} {{ form.patronymic(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.phone_number.label }} {{ form.phone_number(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.email.label }} {{ form.email(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.address.label }} {{ form.address(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.city.label }} {{ form.city(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.password.label }} {{ form.password(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.confirm_password.label }} {{ form.confirm_password(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.role.label }} {{ form.role(class="form-control") }}
    </div>
    <div class="form-group" id="shelter-field" style="display: none;">
        {{ form.shelter.label }} {{ form.shelter(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.preferences.label }} {{ form.preferences(class="form-control") }}
    </div>
    <div class="d-grid">
        <button type="submit" class="btn btn-primary">Зарегистрироваться</button>
    </div>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        $('#role').change(function() {
            if ($(this).val() === 'representative') {
                $('#shelter-field').show();
            } else {
                $('#shelter-field').hide();
            }
        }).trigger('change');
    });
</script>
{% endblock %}
